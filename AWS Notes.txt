https://973745754347.signin.aws.amazon.com/console
Administrator
t27sj4ph81!

Connect to AWS instance: https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/AccessingInstancesLinux.html
instance details:
	ID: i-05c35bbbee15125e9
	public DNS(IPv4) name: ec2-18-224-1-232.us-east-2.compute.amazonaws.com
	IPv6 address:
Command:
ssh -i "/home/user/Documents/natural-language-processing/basic-key-pair.pem" ubuntu@ec2-18-224-1-232.us-east-2.compute.amazonaws.com
OR (from the location of .pem)
ssh -i "basic-key-pair.pem" ubuntu@ec2-18-224-1-232.us-east-2.compute.amazonaws.com


Tp exit from Ubuntu on AWS:
just type "exit"
 
Docker - need to install on amazon instance following the imstructions provided.
docker start -i coursera-aml-nlp
docker stop coursera-aml-nlp

!!!! ====== START HERE ========
! Ensure that your IP address is in Inbound of Security group setting (IP address in normally not static)

1. To allow Jupyter notebooks running on AWS:
ssh -L 8080:localhost:8080 -i "basic-key-pair.pem" ubuntu@ec2-3-17-179-40.us-east-2.compute.amazonaws.com


2. Install docker https://docs.docker.com/install/linux/docker-ce/ubuntu/

3. Get Docker container (takes some time) https://github.com/hse-aml/natural-language-processing/blob/master/Docker-tutorial.md

4. run tmux session (when finally setting up the working session).
sudo apt-get install tmux 
tmux new -s my_awesome_session

# do your work then 
tmux detach

tmux attach -t my_awesome_session
# you come back here tomorrow

to scroll in tmux https://superuser.com/questions/209437/how-do-i-scroll-in-tmux

4. Run docker container with mounted directory from the local machine
docker run -it -p 8080:8080 --name coursera-aml-nlp -v $PWD:/root/coursera akashin/coursera-aml-nlp
docker run -it -p 8080:8080 --name coursera-aml-nlp akashin/coursera-aml-nlp
docker start -i coursera-aml-nlp
5. 

To transfer file to AWS
scp -i "basic-key-pair.pem" project/week5-project.ipynb ubuntu@ec2-3-17-179-40.us-east-2.compute.amazonaws.com:week5-project.ipynb 

scp -i "basic-key-pair.pem" project/dialogue_manager.py ubuntu@ec2-3-17-179-40.us-east-2.compute.amazonaws.com:dialogue_manager.py 
scp -i "basic-key-pair.pem" project/main_bot.py  ubuntu@ec2-3-17-179-40.us-east-2.compute.amazonaws.com:main_bot.py
scp -i "basic-key-pair.pem" project/utils.py   ubuntu@ec2-3-17-179-40.us-east-2.compute.amazonaws.com:utils.py

scp -i "basic-key-pair.pem" project/intent_recognizer.pkl  ubuntu@ec2-3-17-179-40.us-east-2.compute.amazonaws.com:intent_recognizer.pkl
scp -i "basic-key-pair.pem" project/tfidf_vectorizer.pkl  ubuntu@ec2-3-17-179-40.us-east-2.compute.amazonaws.com:tfidf_vectorizer.pkl
scp -i "basic-key-pair.pem" project/tag_classifier.pkl ubuntu@ec2-3-17-179-40.us-east-2.compute.amazonaws.com:tag_classifier.pkl
scp -i "basic-key-pair.pem" project/word_embeddings.tsv ubuntu@ec2-3-17-179-40.us-east-2.compute.amazonaws.com:word_embeddings.tsv

scp -i "basic-key-pair.pem" -r project/thread_embeddings_by_tags ubuntu@ec2-3-17-179-40.us-east-2.compute.amazonaws.com:thread_embeddings_by_tags


To access notebooks from docker form EC2:
(on browser	) http://localhost:8080/tree

Test chat bot 
python3 main_bot.py --token=655136975:AAEhRClyCsa5dMLU_rXm_69U6gACm_PToAE
Then just type something in telegram